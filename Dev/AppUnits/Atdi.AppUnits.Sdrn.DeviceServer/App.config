<?xml version="1.0" encoding="utf-8" ?>
<configuration>
  <configSections>
    <section name="atdi.platform" type="Atdi.Platform.ConfigElements.AtdiPlatformConfigElement, Atdi.Platform.Configurator" allowLocation="true" allowDefinition="Everywhere"/>
  </configSections>

  <atdi.platform>

    <appServer instance="SdrnDeviceAppServer">

      <components>

        <component type="SdrnDeviceServerAppUnit" assembly="Atdi.AppUnits.Sdrn.DeviceServer">
          <parameters>
            <!-- Имя файла лицензии-->
            <parameter name="License.FileName" value="" />
            <!-- Зашифрованное значение идентификатора владельца лиензии -->
            <parameter name="License.OwnerId" value="" />
            <!-- Зашифрованное значение ключа продукта -->
            <parameter name="License.ProductKey" value="" />

            <!-- Хост без порта  -->
            <parameter name="RabbitMQ.Host" value=""/>
            <!-- Порт, не обязательно, в этом случаи будет использован по умолчанию  -->
            <parameter name="RabbitMQ.Port" value=""/>
            <!-- Виртуальных хост размещения очередей -->
            <parameter name="RabbitMQ.VirtualHost" value="/"/>
            <!-- Имя пользователя -->
            <parameter name="RabbitMQ.User" value=""/>
            <!-- Зашифрованное значение пароля пользователя -->
            <parameter name="RabbitMQ.Password" value=""/>

            <!-- Версия АПИ  -->
            <parameter name="SDRN.ApiVersion" value="2.0"/>
            <!-- Инстанс сервера SDRN, брать из его файла лицензии  -->
            <parameter name="SDRN.Server.Instance" value=""/>
            <parameter name="SDRN.Server.QueueNamePart" value="Q.SDRN.Server"/>

            <!-- Уникальный идентификатора устройства,в данном случаии сервера устройств выглядит для сервеhа SDRN как единный многофункциональный сенсор  -->
            <parameter name="SDRN.Device.SensorTechId" value=""/>
            <parameter name="SDRN.Device.Exchange" value="EX.SDRN.Device"/>
            <parameter name="SDRN.Device.QueueNamePart" value="Q.SDRN.Device"/>
            <parameter name="SDRN.Device.MessagesBindings" value="{messageType=RegisterSensor, routingKey=#01};{messageType=SendCommandResult, routingKey=#02};{messageType=SendMeasResults, routingKey=#03};{messageType=SendEntity, routingKey=#04};{messageType=SendEntityPart, routingKey=#05};{messageType=UpdateSensor, routingKey=#06}"/>
            <parameter name="SDRN.MessageConvertor.UseEncryption" value="false"/>
            <parameter name="SDRN.MessageConvertor.UseCompression" value="false"/>

            <!-- Таймаут в секундах выделяемый для регистрации адаптера, в случаи его превышения контроллер считает что алаптер не присоединен и н еможет быть использован -->
            <parameter name="SDRN.DeviceServer.AdapterRegistrationTimeoutSec" value="300"/>
          </parameters>
        </component>

      </components>
    </appServer>

  </atdi.platform>
  
</configuration>