<?xml version="1.0" encoding="utf-8" ?>
<Entity
  Name        = "ClientContext"
  Title       = "Client Context"
  Desc        = "The context of the client"
  Type        = "Normal"
  xmlns       = "http://schemas.atdi.com/orm/entity.xsd">
  <DataSource Type="Database" Object="Table">
    <Name>CLIENT_CONTEXTS</Name>
    <Schema>CALC</Schema>
  </DataSource>
  <Fields>
    <Field Name="Id" SourceType="Column"  SourceName="ID" DataType="Counter.64" Title="Project Map ID" Desc="The identifier of the client context"/>
    <Field Name="PROJECT" SourceType="Reference" SourceName="Project"  Required="true" Title="Map Project" Desc="The project in which the context is created" />
    <Field Name="OwnerInstance" SourceType="Column" SourceName="OWNER_INSTANCE" DataType="Text.250" Required="true" Title="Owner Instance" Desc="The instance of the client context owner." />
    <Field Name="OwnerContextId" SourceType="Column" SourceName="OWNER_CONTEXT_ID" DataType="Code.Guid" Required="true" Title="Owner Context ID" Desc="The context identifier generated by the owner." />
    <Field Name="CreatedDate" SourceType="Column" SourceName="CREATED_DATE" DataType="DateTimeOffset"  Required="true" Title="Created date" Desc="The date of the context record created"  />

    <Field Name="StatusCode" SourceType="Column" SourceName="STATUS_CODE" DataType="Code.u08" Required="true" Title="Status Code" Desc="The code of the status of the client context"  />
    <Field Name="StatusName" SourceType="Column" SourceName="STATUS_NAME" DataType="Text.50" Title="Status Name" Desc="The name of the status of the client context" />
    <Field Name="StatusNote" SourceType="Column" SourceName="STATUS_NOTE" DataType="Text.MAX" Title="Status Note" Desc="The note of the status of the client context"/>

    <Field Name="MAIN_BLOCK" SourceName="ClientContextMainBlock" SourceType="Reference" Title="Main Block" Required="false">
      <PrimaryKeyMapping>
        <Mapped KeyFieldName="ContextId" MatchWith="SourceName">ID</Mapped>
      </PrimaryKeyMapping>
    </Field>

    <Field Name="DIFFRACTION_BLOCK" SourceName="ClientContextDiffraction" SourceType="Reference" Title="Diffraction Block" Required="false">
      <PrimaryKeyMapping>
        <Mapped KeyFieldName="ContextId" MatchWith="SourceName">ID</Mapped>
      </PrimaryKeyMapping>
    </Field>

    <Field Name="SUB_PATH_DIFFRACTION_BLOCK" SourceName="ClientContextSubPathDiffraction" SourceType="Reference" Title="Diffraction Block" Required="false">
      <PrimaryKeyMapping>
        <Mapped KeyFieldName="ContextId" MatchWith="SourceName">ID</Mapped>
      </PrimaryKeyMapping>
    </Field>

    <Field Name="TROPO_BLOCK" SourceName="ClientContextTropo" SourceType="Reference" Title="Diffraction Block" Required="false">
      <PrimaryKeyMapping>
        <Mapped KeyFieldName="ContextId" MatchWith="SourceName">ID</Mapped>
      </PrimaryKeyMapping>
    </Field>

    <Field Name="DUCTING_BLOCK" SourceName="ClientContextDucting" SourceType="Reference" Title="Diffraction Block" Required="false">
      <PrimaryKeyMapping>
        <Mapped KeyFieldName="ContextId" MatchWith="SourceName">ID</Mapped>
      </PrimaryKeyMapping>
    </Field>

    <Field Name="ABSORPTION_BLOCK" SourceName="ClientContextAbsorption" SourceType="Reference" Title="Diffraction Block" Required="false">
      <PrimaryKeyMapping>
        <Mapped KeyFieldName="ContextId" MatchWith="SourceName">ID</Mapped>
      </PrimaryKeyMapping>
    </Field>

    <Field Name="REFLECTION_BLOCK" SourceName="ClientContextReflection" SourceType="Reference" Title="Diffraction Block" Required="false">
      <PrimaryKeyMapping>
        <Mapped KeyFieldName="ContextId" MatchWith="SourceName">ID</Mapped>
      </PrimaryKeyMapping>
    </Field>

    <Field Name="ATMOSPHERIC_BLOCK" SourceName="ClientContextAtmospheric" SourceType="Reference" Title="Diffraction Block" Required="false">
      <PrimaryKeyMapping>
        <Mapped KeyFieldName="ContextId" MatchWith="SourceName">ID</Mapped>
      </PrimaryKeyMapping>
    </Field>

    <Field Name="ADDITIONAL_BLOCK" SourceName="ClientContextAdditional" SourceType="Reference" Title="Diffraction Block" Required="false">
      <PrimaryKeyMapping>
        <Mapped KeyFieldName="ContextId" MatchWith="SourceName">ID</Mapped>
      </PrimaryKeyMapping>
    </Field>

    <Field Name="CLUTTER_BLOCK" SourceName="ClientContextClutter" SourceType="Reference" Title="Diffraction Block" Required="false">
      <PrimaryKeyMapping>
        <Mapped KeyFieldName="ContextId" MatchWith="SourceName">ID</Mapped>
      </PrimaryKeyMapping>
    </Field>

    <Field Name="GLOBAL_PARAMS" SourceName="ClientContextGlobalParams" SourceType="Reference" Title="Diffraction Block" Required="false">
      <PrimaryKeyMapping>
        <Mapped KeyFieldName="ContextId" MatchWith="SourceName">ID</Mapped>
      </PrimaryKeyMapping>
    </Field>

  </Fields>
  <PrimaryKey Clustered="true">
    <FieldRef Name="Id"/>
  </PrimaryKey>
</Entity>